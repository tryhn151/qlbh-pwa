# üöÄ T√çNH NƒÇNG ƒê·ªñN H√ÄNG N√ÇNG C·∫§P - PHI√äN B·∫¢N 3.0

## üéØ T√çNH NƒÇNG M·ªöI HO√ÄN TO√ÄN

### ‚úÖ **1. Mua t·ª´ nhi·ªÅu nh√† cung c·∫•p trong 1 ƒë∆°n h√†ng**
- **Tr∆∞·ªõc:** Ch·ªâ mua t·ª´ 1 nh√† cung c·∫•p m·ªói ƒë∆°n h√†ng
- **Sau:** C√≥ th·ªÉ mua s·∫£n ph·∫©m t·ª´ nhi·ªÅu nh√† cung c·∫•p kh√°c nhau trong c√πng 1 ƒë∆°n h√†ng

### ‚úÖ **2. T·ª± nh·∫≠p gi√° b√°n cho t·ª´ng s·∫£n ph·∫©m**
- **Tr∆∞·ªõc:** Gi√° b√°n t·ª± ƒë·ªông = gi√° nh·∫≠p (readonly)
- **Sau:** T·ª± do nh·∫≠p gi√° b√°n ri√™ng cho t·ª´ng s·∫£n ph·∫©m ƒë·ªÉ ƒë√†m ph√°n v·ªõi kh√°ch h√†ng

### ‚úÖ **3. T√≠nh to√°n l·ª£i nhu·∫≠n real-time**
- Hi·ªÉn th·ªã l·ª£i nhu·∫≠n t·ª´ng s·∫£n ph·∫©m = (Gi√° b√°n - Gi√° nh·∫≠p) √ó S·ªë l∆∞·ª£ng
- T·ªïng l·ª£i nhu·∫≠n d·ª± ki·∫øn cho c·∫£ ƒë∆°n h√†ng
- C·∫£nh b√°o m√†u ƒë·ªè n·∫øu b√°n l·ªó

### ‚úÖ **4. G·ª£i √Ω gi√° b√°n th√¥ng minh**
- T·ª± ƒë·ªông ƒë·ªÅ xu·∫•t gi√° b√°n = 110% gi√° nh·∫≠p
- Cho ph√©p ƒëi·ªÅu ch·ªânh t√πy √Ω theo th·ª±c t·∫ø th·ªã tr∆∞·ªùng

## üìã C√ÅCH S·ª¨ D·ª§NG T√çNH NƒÇNG M·ªöI

### **B∆∞·ªõc 1: Ch·ªçn kh√°ch h√†ng**
```
Dropdown "Kh√°ch h√†ng" ‚Üí Ch·ªçn kh√°ch h√†ng c·∫ßn t·∫°o ƒë∆°n
```

### **B∆∞·ªõc 2: Th√™m s·∫£n ph·∫©m ƒë·∫ßu ti√™n**
```
1. Ch·ªçn "Nh√† cung c·∫•p" ‚Üí Dropdown s·∫£n ph·∫©m s·∫Ω ƒë∆∞·ª£c k√≠ch ho·∫°t
2. Ch·ªçn "S·∫£n ph·∫©m" ‚Üí Gi√° nh·∫≠p t·ª± ƒë·ªông ƒëi·ªÅn + G·ª£i √Ω gi√° b√°n
3. Nh·∫≠p "S·ªë l∆∞·ª£ng"
4. ƒêi·ªÅu ch·ªânh "Gi√° b√°n" theo th·ª±c t·∫ø
5. Xem th√†nh ti·ªÅn v√† l·ª£i nhu·∫≠n real-time
```

### **B∆∞·ªõc 3: Th√™m s·∫£n ph·∫©m kh√°c (t·ª´ nh√† cung c·∫•p kh√°c)**
```
1. Nh·∫•n "Th√™m s·∫£n ph·∫©m kh√°c"
2. Ch·ªçn nh√† cung c·∫•p kh√°c (c√≥ th·ªÉ kh√°c v·ªõi s·∫£n ph·∫©m ƒë·∫ßu)
3. Ch·ªçn s·∫£n ph·∫©m t·ª´ nh√† cung c·∫•p ƒë√≥
4. Thi·∫øt l·∫≠p s·ªë l∆∞·ª£ng v√† gi√° b√°n
```

### **B∆∞·ªõc 4: Ki·ªÉm tra v√† l∆∞u**
```
- Xem t·ªïng ti·ªÅn ƒë∆°n h√†ng
- Xem t·ªïng l·ª£i nhu·∫≠n d·ª± ki·∫øn  
- Nh·∫•n "L∆∞u ƒë∆°n h√†ng"
```

## üîÑ SO S√ÅNH TR∆Ø·ªöC V√Ä SAU

| T√≠nh nƒÉng | Phi√™n b·∫£n c≈© | Phi√™n b·∫£n m·ªõi |
|-----------|--------------|----------------|
| **Nh√† cung c·∫•p** | 1 nh√† cung c·∫•p/ƒë∆°n | Nhi·ªÅu nh√† cung c·∫•p/ƒë∆°n |
| **Gi√° b√°n** | T·ª± ƒë·ªông = gi√° nh·∫≠p | T·ª± nh·∫≠p, c√≥ g·ª£i √Ω |
| **L·ª£i nhu·∫≠n** | Kh√¥ng hi·ªÉn th·ªã | Real-time, t·ª´ng item |
| **Giao di·ªán** | ƒê∆°n gi·∫£n | Chi ti·∫øt, tr·ª±c quan |
| **Kinh doanh** | H·∫°n ch·∫ø | Linh ho·∫°t, th·ª±c t·∫ø |

## üí° C√ÅC T√çNH NƒÇNG CHI TI·∫æT

### **1. Form t·∫°o ƒë∆°n h√†ng m·ªõi:**
- **Dropdown nh√† cung c·∫•p** cho t·ª´ng s·∫£n ph·∫©m ri√™ng bi·ªát
- **3 c·ªôt gi√°:** S·ªë l∆∞·ª£ng | Gi√° nh·∫≠p (tham kh·∫£o) | Gi√° b√°n (t·ª± nh·∫≠p)
- **Th√†nh ti·ªÅn t·ª´ng item** v·ªõi hi·ªÉn th·ªã l·ª£i nhu·∫≠n
- **T·ªïng ƒë∆°n h√†ng** hi·ªÉn th·ªã t·ªïng ti·ªÅn + t·ªïng l·ª£i nhu·∫≠n

### **2. B·∫£ng danh s√°ch ƒë∆°n h√†ng:**
- **C·ªôt m·ªõi:** Nh√† cung c·∫•p (hi·ªÉn th·ªã t·∫•t c·∫£ nh√† cung c·∫•p trong ƒë∆°n)
- **Th√¥ng minh:** N·∫øu > 2 nh√† cung c·∫•p ‚Üí hi·ªÉn th·ªã "ABC, XYZ +2 kh√°c"

### **3. Chi ti·∫øt ƒë∆°n h√†ng:**
- **B·∫£ng m·ªü r·ªông:** Nh√† cung c·∫•p | S·∫£n ph·∫©m | SL | Gi√° nh·∫≠p | Gi√° b√°n | Th√†nh ti·ªÅn | L·ª£i nhu·∫≠n
- **T·ªïng k·∫øt:** T·ªïng ti·ªÅn + T·ªïng l·ª£i nhu·∫≠n v·ªõi m√†u s·∫Øc ph√π h·ª£p

## üé® GIAO DI·ªÜN M·ªöI

### **M√†u s·∫Øc th√¥ng minh:**
- üü¢ **Xanh l√°:** L·ª£i nhu·∫≠n d∆∞∆°ng (b√°n c√≥ l√£i)
- üî¥ **ƒê·ªè:** L·ª£i nhu·∫≠n √¢m (b√°n l·ªó)
- üîµ **Xanh d∆∞∆°ng:** T·ªïng ti·ªÅn ƒë∆°n h√†ng
- üü° **V√†ng:** Gi√° tham kh·∫£o

### **Layout ƒë∆∞·ª£c c·∫£i thi·ªán:**
- M·ªói s·∫£n ph·∫©m trong khung ri√™ng bi·ªát
- Th√¥ng tin r√µ r√†ng v·ªõi label chi ti·∫øt
- Responsive tr√™n mobile
- T·ªïng ƒë∆°n h√†ng n·ªïi b·∫≠t ·ªü cu·ªëi

## üìä T√çNH TO√ÅN BUSINESS

### **C√¥ng th·ª©c l·ª£i nhu·∫≠n:**
```javascript
L·ª£i nhu·∫≠n item = (Gi√° b√°n - Gi√° nh·∫≠p) √ó S·ªë l∆∞·ª£ng
T·ªïng l·ª£i nhu·∫≠n = Œ£(L·ª£i nhu·∫≠n t·ª´ng item)
```

### **G·ª£i √Ω gi√° b√°n:**
```javascript
Gi√° b√°n ƒë·ªÅ xu·∫•t = Gi√° nh·∫≠p √ó 1.1 (tƒÉng 10%)
```

### **Validation th√¥ng minh:**
- B·∫Øt bu·ªôc ch·ªçn kh√°ch h√†ng
- B·∫Øt bu·ªôc ch·ªçn √≠t nh·∫•t 1 s·∫£n ph·∫©m  
- B·∫Øt bu·ªôc nh·∫≠p gi√° b√°n > 0
- C·∫£nh b√°o n·∫øu gi√° b√°n < gi√° nh·∫≠p

## ‚ö° C√ÅCH TEST T√çNH NƒÇNG

### **Test Case 1: ƒê∆°n h√†ng 1 nh√† cung c·∫•p**
```
1. Ch·ªçn kh√°ch h√†ng: "Nguy·ªÖn VƒÉn A"
2. Ch·ªçn nh√† cung c·∫•p: "ABC Corp" 
3. Ch·ªçn s·∫£n ph·∫©m: "G·∫°o ST25" (gi√° nh·∫≠p: 25,000)
4. S·ªë l∆∞·ª£ng: 10 bao
5. Gi√° b√°n: 28,000 (g·ª£i √Ω: 27,500)
6. Ki·ªÉm tra: L·ª£i nhu·∫≠n = (28,000-25,000)√ó10 = 30,000 VNƒê
7. L∆∞u ƒë∆°n h√†ng
```

### **Test Case 2: ƒê∆°n h√†ng nhi·ªÅu nh√† cung c·∫•p**
```
S·∫£n ph·∫©m 1:
- NCC: "ABC Corp" | SP: "G·∫°o ST25" | SL: 10 | Gi√° b√°n: 28,000

S·∫£n ph·∫©m 2: 
- NCC: "XYZ Ltd" | SP: "ƒê∆∞·ªùng tr·∫Øng" | SL: 5 | Gi√° b√°n: 22,000

Ki·ªÉm tra t·ªïng l·ª£i nhu·∫≠n = L·ª£i nhu·∫≠n SP1 + L·ª£i nhu·∫≠n SP2
```

### **Test Case 3: B√°n l·ªó**
```
1. Ch·ªçn s·∫£n ph·∫©m c√≥ gi√° nh·∫≠p 50,000
2. Nh·∫≠p gi√° b√°n 45,000 (th·∫•p h∆°n gi√° nh·∫≠p)
3. Ki·ªÉm tra hi·ªÉn th·ªã m√†u ƒë·ªè cho l·ª£i nhu·∫≠n √¢m
4. T·ªïng l·ª£i nhu·∫≠n c≈©ng hi·ªÉn th·ªã m√†u ƒë·ªè
```

## üîß K·ª∏ THU·∫¨T ƒê√É THAY ƒê·ªîI

### **Files ƒë√£ c·∫≠p nh·∫≠t:**
- ‚úÖ `index.html`: Giao di·ªán form m·ªõi
- ‚úÖ `order.js`: Logic x·ª≠ l√Ω ho√†n to√†n m·ªõi
- ‚úÖ C√°c function m·ªõi: `updateItemTotal()`, `updateOrderTotal()`, `updateProductPrice()`

### **Database schema:**
```javascript
// Order item m·ªõi:
{
    supplierId: int,
    supplierName: string,
    productId: int, 
    productName: string,
    qty: int,
    sellingPrice: float,    // Gi√° b√°n (m·ªõi)
    purchasePrice: float    // Gi√° nh·∫≠p (m·ªõi)
}

// Order object:
{
    customerId: int,
    items: [orderItem],
    totalAmount: float,     // T·ªïng ti·ªÅn (m·ªõi)
    totalProfit: float,     // T·ªïng l·ª£i nhu·∫≠n (m·ªõi)
    orderDate: Date,
    status: string
}
```

## üéØ GI√Å TR·ªä KINH DOANH

### **L·ª£i √≠ch cho ng∆∞·ªùi b√°n:**
1. **Linh ho·∫°t gi√°:** T·ª± do ƒëi·ªÅu ch·ªânh gi√° theo t·ª´ng kh√°ch h√†ng
2. **ƒêa nh√† cung c·∫•p:** T·ªëi ∆∞u chi ph√≠ b·∫±ng c√°ch mua t·ª´ nhi·ªÅu ngu·ªìn
3. **Ki·ªÉm so√°t l·ª£i nhu·∫≠n:** Th·∫•y ngay ƒë∆∞·ª£c bao nhi√™u l√£i t·ª´ t·ª´ng ƒë∆°n
4. **ƒê√†m ph√°n t·ªët h∆°n:** C√≥ cƒÉn c·ª© gi√° nh·∫≠p ƒë·ªÉ th∆∞∆°ng l∆∞·ª£ng

### **V√≠ d·ª• th·ª±c t·∫ø:**
```
ƒê∆°n h√†ng cho nh√† h√†ng ABC:
- G·∫°o t·ª´ NCC Mi·ªÅn B·∫Øc: 50 bao √ó 27,000 = 1,350,000 VNƒê
- Th·ªãt t·ª´ NCC Mi·ªÅn Nam: 20 kg √ó 180,000 = 3,600,000 VNƒê  
- Rau t·ª´ NCC ƒê·ªãa ph∆∞∆°ng: 30 kg √ó 25,000 = 750,000 VNƒê

T·ªïng: 5,700,000 VNƒê
L·ª£i nhu·∫≠n d·ª± ki·∫øn: 570,000 VNƒê (10%)
```

## üöÄ T√çNH NƒÇNG T∆Ø∆†NG LAI

### **Roadmap ti·∫øp theo:**
- [ ] L∆∞u template gi√° theo kh√°ch h√†ng VIP
- [ ] B√°o c√°o l·ª£i nhu·∫≠n theo s·∫£n ph·∫©m/nh√† cung c·∫•p
- [ ] C·∫£nh b√°o gi√° th·ªã tr∆∞·ªùng
- [ ] Import ƒë∆°n h√†ng t·ª´ Excel
- [ ] Xu·∫•t h√≥a ƒë∆°n PDF

---
**Phi√™n b·∫£n:** 3.0  
**Ng√†y:** $(date)  
**C·∫≠p nh·∫≠t:** ƒê∆°n h√†ng ƒëa nh√† cung c·∫•p v·ªõi t√≠nh l·ª£i nhu·∫≠n  
**Status:** ‚úÖ Ho√†n th√†nh v√† s·∫µn s√†ng s·ª≠ d·ª•ng! 